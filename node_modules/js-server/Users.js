module.exports = {
	getUserJSON: function(userId, resfn){
		getUser(userId, resfn);
	},

	updateUserLikedVideos: function(userId, updown, videoId){
		updateUserLikedVideos(userId, updown, videoId);
	},

	addUserLikedVideos: function(userId, videoId){
		addUserLikedVideos(userId, videoId);
	},

	removeUserLikedVideos: function(userId, videoId){
		removeUserLikedVideos(userId, videoId);
	}
};

var mongodb = require("./MongoDB.js");

function getUser(userId, resfn){
	mongodb.getUserFromDB(userId, function(user){
		//console.log(user);
		resfn(userToJSON(user));
	});
}

function userToJSON(user){
	return user.vidLiked;
}

function updateUserLikedVideos(userId, updown, videoId){
	if(updown=='up'){
		addUserLikedVideos(userId, videoId);
	}else{
		removeUserLikedVideos(userId, videoId);
	}
}

function addUserLikedVideos(userId, videoId){
	mongodb.addUserLikedVideos(userId,videoId);
}

function removeUserLikedVideos(userId, videoId){
	mongodb.removeUserLikedVideos(userId,videoId);
}